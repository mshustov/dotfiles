[user]
    name = restrry
    email = restrry@gmail.com
[core]
    excludesfile = ~/.gitignore
    editor = code --wait
[color]
    branch = auto
    diff = auto
    status = auto
[color "branch"]
    current = yellow reverse
    local = yellow
    remote = green
[color "diff"]
    meta = blue bold
    frag = magenta bold
    old = red
    new = cyan
[color "status"]
    added = yellow
    changed = green
    untracked = cyan
[merge]
    ff = no
    # https://git-scm.com/docs/git-config#git-config-mergeff
[diff]
    noprefix = true
    tool = default-difftool
[difftool "default-difftool"]
    cmd = code --wait --diff $LOCAL $REMOTE
[alias]
    co = checkout
    dc = diff --cached
    st = status -sb
    undo = reset --soft HEAD^
    last = log -1 HEAD
    lg  = log --oneline --graph --decorate --all
    lgg="log --pretty=oneline -n 20 --graph --abbrev-commit"
    hi = log --oneline --graph --decorate --all --simplify-by-decoration
    diff = diff --no-index

    # Remove local branches that are deleted from remote
    prune = fetch --prune

    # Including new untracked files
    stash-all = stash save --include-untracked

    # Create local branch for remote PR
    pr = "!f() { git fetch -fu origin refs/pull/$1/head:pr/$1; } ; f"

    # Find commits by source code
    fc="!f() { log --pretty=format:'%C(yellow)%h  %Cblue%ad  %Creset%s%Cgreen  [%cn] %Cred%d' --decorate --date=short -S$1; }; f"

    # Find commits by commit message
    fm="!f() { log --pretty=format:'%C(yellow)%h  %Cblue%ad  %Creset%s%Cgreen  [%cn] %Cred%d' --decorate --date=short --grep=$1; }; f"


[url "git@github.yandex-team.ru:lego/islands-components.git"]
    insteadOf = "gcomp:"

[url "git@github.yandex-team.ru:lego/islands-user.git"]
    insteadOf = "guser:"

[url "git@github.yandex-team.ru:lego/islands-page.git"]
    insteadOf = "gpage:"

[url "git@github.yandex-team.ru:lego/islands-icons.git"]
    insteadOf = "gicon:"

[url "git@github.yandex-team.ru:lego/islands-services.git"]
    insteadOf = "gserv:"

[url "git@github.yandex-team.ru:lego/islands-search.git"]
    insteadOf = "gserc:"

[url "git@github.yandex-team.ru:lego/islands-codestyle.git"]
    insteadOf = "gcode:"

[url "git@github.yandex-team.ru:lego/islands.git"]
    insteadOf = "gisl:"

[url "git@github.yandex-team.ru:lego/islands-romochka.git"]
    insteadOf = "grom:"

#[difftool "sourcetree"]
#    cmd = opendiff \"$LOCAL\" \"$REMOTE\"
#    path =
#[mergetool "sourcetree"]
#    cmd = /Applications/SourceTree.app/Contents/Resources/opendiff-w.sh \"$LOCAL\" \"$REMOTE\" -ancestor \"$BASE\" -merge \"$MERGED\"
#    trustExitCode = true
[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true
